---
import { getCollection } from "astro:content";

import BlogPostList from "#components/blog-post-list.astro";
import PageHeading from "#components/page-heading.astro";
import GlobalLayout from "#layouts/global.astro";
import { sortBlogPosts } from "#utils/blog";

const posts = (
	await getCollection("blog", ({ data }) => data.archived && !data.draft)
).sort(sortBlogPosts);
---

<GlobalLayout title="Post graveyard">
	<PageHeading
		eyebrowText="These posts are bad. Or old. Or bad <em>and</em> old."
		>A nice upstate farm just for posts</PageHeading
	>

	<BlogPostList posts={posts} />
</GlobalLayout>
